<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>How do you pass a query parameter to an Airkit web flow?</title>
    <link rel="stylesheet" href="../../../archived.css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </head>
  
  <body>
    <header class="header">
      <div class="title-span">
        <a href="../../../">
          <img src="../../../images/site-logo.png" height="66" alt="Airkit Builders - The Official Airkit Builder Community" id="site-logo" />
        </a>
      </div>
    </header>

    <div class="main">
    <div class="archive-span">An archive of community.airkit.com as of Monday April 10, 2023.</div>
    <h1 class="topic-title">How do you pass a query parameter to an Airkit web flow?</h1>
            <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/{size}.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">darren55</div>
          <div class="post_content">
<p>Hello <img alt=":wave:" class="emoji" height="20" loading="lazy" src="../../../images/wave.png" title=":wave:" width="20"/> !</p>
<p>I’m looking to pass a query parameter to a web flow from a launch url. I’d like my url to be:</p>
<pre><code class="lang-auto">https://app.airkit.com/trigger?id=12345
</code></pre>
<p>And be able to grab the <code>id</code> and pass to my web flow. Has anyone done this in v18.0?</p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ismaen</div>
          <div class="post_content">
<p>Great question! So for this scenario, you’re going to have to use an App API to do this. Check out the video below that i recorded that walks through the steps in v18.0.</p>
<p></p><div class="video-container">
<video controls="" height="100%" preload="metadata" width="100%">
<source src="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/e3856fe9d04c6f5d95b5ae00683641ba2a8d173c.mp4"/>
<a href="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/e3856fe9d04c6f5d95b5ae00683641ba2a8d173c.mp4">https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/e3856fe9d04c6f5d95b5ae00683641ba2a8d173c.mp4</a>
</video>
</div><p></p>
<h1>
<a class="anchor" href="#creating-the-app-api-with-query-params-1" name="creating-the-app-api-with-query-params-1"></a>Creating the App API with Query Params</h1>
<ol>
<li>
<p>Add an App API to your application and create your route<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/73brjXCOsPjI5IoPvDRJlvaB0SK.png?dl=1" href="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/316b5f5f5b75086030c6ae6dc86777081a112d9a.png" title="2022-04-04_12-31-33"><img alt="2022-04-04_12-31-33" data-base62-sha1="73brjXCOsPjI5IoPvDRJlvaB0SK" data-small-upload="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/316b5f5f5b75086030c6ae6dc86777081a112d9a_2_10x10.png" height="286" src="../../../images/316b5f5f5b75086030c6ae6dc86777081a112d9a_2_690x286.png" srcset="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/316b5f5f5b75086030c6ae6dc86777081a112d9a_2_690x286.png, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/316b5f5f5b75086030c6ae6dc86777081a112d9a_2_1035x429.png 1.5x, https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/316b5f5f5b75086030c6ae6dc86777081a112d9a.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">2022-04-04_12-31-33</span><span class="informations">1361×566 37.4 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</li>
<li>
<p>Add your query parameter on your endpoint<br/>
<div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/fjwOZ8bTbf6ayqGNLOtktCwqoEj.png?dl=1" href="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/6b55c1bb341ad5346ba78a884cb74b5b46ab8ed3.png" title="2022-04-04_12-28-52"><img alt="2022-04-04_12-28-52" data-base62-sha1="fjwOZ8bTbf6ayqGNLOtktCwqoEj" data-small-upload="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/6b55c1bb341ad5346ba78a884cb74b5b46ab8ed3_2_10x10.png" height="209" src="../../../images/6b55c1bb341ad5346ba78a884cb74b5b46ab8ed3_2_690x209.png" srcset="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/6b55c1bb341ad5346ba78a884cb74b5b46ab8ed3_2_690x209.png, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/6b55c1bb341ad5346ba78a884cb74b5b46ab8ed3_2_1035x313.png 1.5x, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/6b55c1bb341ad5346ba78a884cb74b5b46ab8ed3_2_1380x418.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">2022-04-04_12-28-52</span><span class="informations">1595×484 25.1 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
</li>
<li>
<p>Add the Start Journey Data operation and pass <code>payload.queryParams</code> to the start parameters</p>
</li>
</ol>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/n3ViwR4IdVLnNZ7YPfHPZoWOcyZ.png?dl=1" href="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/a1a38f69bc2b536abe710a49fd05a5ea2486c079.png" title="2022-04-04_12-28-59"><img alt="2022-04-04_12-28-59" data-base62-sha1="n3ViwR4IdVLnNZ7YPfHPZoWOcyZ" data-small-upload="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/a1a38f69bc2b536abe710a49fd05a5ea2486c079_2_10x10.png" height="500" src="../../../images/a1a38f69bc2b536abe710a49fd05a5ea2486c079_2_677x500.png" srcset="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/a1a38f69bc2b536abe710a49fd05a5ea2486c079_2_677x500.png, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/a1a38f69bc2b536abe710a49fd05a5ea2486c079_2_1015x750.png 1.5x, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/a1a38f69bc2b536abe710a49fd05a5ea2486c079_2_1354x1000.png 2x" width="677"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">2022-04-04_12-28-59</span><span class="informations">1514×1118 62.4 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<ol start="4">
<li>Configure your response:</li>
</ol>
<ul>
<li>Response Headers: <code>Location: journey.canvas_link</code>
</li>
<li>Response Status: <code>302</code>
</li>
<li>Response Body: <code>journey</code>
</li>
</ul>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/crLk5ruqwJ4FVSKMxu7G9yafrwB.png?dl=1" href="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/573d8280143cfd7e1115110f682194c053914a79.png" title="2022-04-04_12-29-09"><img alt="2022-04-04_12-29-09" data-base62-sha1="crLk5ruqwJ4FVSKMxu7G9yafrwB" data-small-upload="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/573d8280143cfd7e1115110f682194c053914a79_2_10x10.png" height="287" src="../../../images/573d8280143cfd7e1115110f682194c053914a79_2_690x287.png" srcset="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/573d8280143cfd7e1115110f682194c053914a79_2_690x287.png, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/573d8280143cfd7e1115110f682194c053914a79_2_1035x430.png 1.5x, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/573d8280143cfd7e1115110f682194c053914a79_2_1380x574.png 2x" width="690"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">2022-04-04_12-29-09</span><span class="informations">1592×664 22.3 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<ol start="5">
<li>Check to see if you can retrieve the id on a webflow by using <code>session.start.id</code>.</li>
</ol>
<p><div class="lightbox-wrapper"><a class="lightbox" data-download-href="/uploads/short-url/iagVSWjBK4yf6Z5fbMK47OaJoJs.png?dl=1" href="https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/7f506b06061f6272a730dbfff770e9df63034d1a.png" title="2022-04-04_12-29-25"><img alt="2022-04-04_12-29-25" data-base62-sha1="iagVSWjBK4yf6Z5fbMK47OaJoJs" data-small-upload="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/7f506b06061f6272a730dbfff770e9df63034d1a_2_10x10.png" height="232" src="../../../images/7f506b06061f6272a730dbfff770e9df63034d1a_2_689x232.png" srcset="https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/7f506b06061f6272a730dbfff770e9df63034d1a_2_689x232.png, https://global.discourse-cdn.com/standard11/uploads/airkit/optimized/1X/7f506b06061f6272a730dbfff770e9df63034d1a_2_1033x348.png 1.5x, https://global.discourse-cdn.com/standard11/uploads/airkit/original/1X/7f506b06061f6272a730dbfff770e9df63034d1a.png 2x" width="689"/><div class="meta">
<svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon"><use href="#far-image"></use></svg><span class="filename">2022-04-04_12-29-25</span><span class="informations">1106×373 36.3 KB</span><svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<h2>
<a class="anchor" href="#try-it-out-2" name="try-it-out-2"></a>Try it out:</h2>
<p>You can try this experience out here by clicking on the link and placing whatever you’d like in the query parameter:</p>
<p><code>https://app.airkit.com/redirect-with-parameters?id=insertIdHere</code></p>
          </div>
        </div>
      </div>

      <div class="post_container">
        <div class="avatar_container">
          <img src="../../../images/3_2.png" class="avatar" />
        </div>
        <div class="post">
          <div class="user_name">ismaen</div>
          <div class="post_content">
<p>Quick update here, when you are using an App API and wanting to do a redirect, you should use <code>302</code> instead of <code>301</code>. In the video, I use 301 but recently came across that 301s are cached in the browser.</p>
<aside class="onebox stackexchange" data-onebox-src="https://stackoverflow.com/questions/16154672/how-long-does-chrome-remember-a-301-redirect">
<header class="source">
<a href="https://stackoverflow.com/questions/16154672/how-long-does-chrome-remember-a-301-redirect" rel="noopener" target="_blank">stackoverflow.com</a>
</header>
<article class="onebox-body">
<a href="https://stackoverflow.com/users/116906/christos-hayward" rel="noopener" target="_blank">
<img alt="Christos Hayward" class="thumbnail onebox-avatar" height="256" src="../../../images/31b12caa41aaee57d45f7cee115e7b2e03e4e8bd.jpeg" width="256"/>
</a>
<h4>
<a href="https://stackoverflow.com/questions/16154672/how-long-does-chrome-remember-a-301-redirect" rel="noopener" target="_blank">How long does Chrome remember a 301 redirect?</a>
</h4>
<div class="tags">
<strong>google-chrome, http-status-code-301, http-redirect, http-response-codes</strong>
</div>
<div class="date">
  asked by
  
  <a href="https://stackoverflow.com/users/116906/christos-hayward" rel="noopener" target="_blank">
    Christos Hayward
  </a>
  on <a href="https://stackoverflow.com/questions/16154672/how-long-does-chrome-remember-a-301-redirect" rel="noopener" target="_blank">07:01PM - 22 Apr 13 UTC</a>
</div>
</article>
<div class="onebox-metadata">
</div>
<div style="clear: both"></div>
</aside>
<p>Thanks <span class="mention">@kyung</span> for flagging!</p>
<p>Also another note, <code>session.start.queryParams</code> is an accessible namespace is 18.0 and you can actually just access that directly even when using a standard web link as a launch trigger.</p>
          </div>
        </div>
      </div>


    </div>
  </body>
</html>
